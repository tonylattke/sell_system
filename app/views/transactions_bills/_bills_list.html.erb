<h2>Bills</h2>

<ul ng-if="bills.length > 0">
  <li ng-repeat="bill in bills" ng-click="ConsultBill(bill)">
    <div class="btn btn-lg btn-primary col-md-12 bill">
      {{bill.id}} - {{bill.created_at | date:'medium'}}
    </div>
    <div ng-if="bill.extra_data" class="data_extra">
      <h4 ng-if="bill.extra_data.client_name">
        <b>Client:</b> {{bill.extra_data.client_name}}
      </h4>
      <table class="table table-striped">
        <thead>
          <th>Photo</th>
          <th>Name</th>
          <th>Price</th>
          <th>Amount</th>
        </thead>
        <tbody>
          <tr ng-repeat="combo in bill.extra_data.combos">
            <td><img src="{{combo.photo}}" class="img-combo img-thumbnail"></td>
            <td>{{combo.name}}</td>
            <td>{{combo.price | number: 2}}</td>
            <td>{{combo.amount}}</td>
          </tr>
          <tr ng-repeat="product in bill.extra_data.products">
            <td><img src="{{product.photo}}" class="img-product img-thumbnail"></td>
            <td>{{product.name}}</td>
            <td>{{product.price | number: 2}}</td>
            <td>{{product.amount}}</td>
          </tr>
        </tbody>
      </table>
      <div class="text-center"><b>Total:</b> {{bill.total | number: 2}} </div>
      <div class="btn btn-lg btn-danger col-md-12 bill" ng-click="DeleteBill(bill)">
        X
      </div>  
    </div>
  </li>
</ul>

<div ng-if="bills.length == 0">
  No bills available
</div>